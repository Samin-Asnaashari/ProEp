<div class='parent'>
  <h2>ngRepeat - with model</h2>
  <label for='hy'>Example of using ng-repeat with dragular and adding/removing items dynamicaly.</label>
  <div class='wrapper' ng-controller="NgRepeatWithModel">
    <div class='tableRow'>
      <div class='containerVertical'>
        <div ng-repeat="item in items">
          {{item.content}}
          <button class='cursorDefault' ng-click="addItem()">+</button>
          <button class='cursorDefault' ng-click="removeItem()">x</button>
        </div>
      </div>
    </div>
    <div class="tableRow">
      <div class='containerVertical'>
        <div>Items:
          <br/>{{items | json}}</div>
      </div>
    </div>
  </div>
  <pre>
    <code>
  // HTML:
   &lt;div class='wrapper' ng-controller=&quot;NgRepeatWithModel&quot;&gt;
      &lt;div class='containerVertical'&gt;
        &lt;div ng-repeat=&quot;item in items&quot;&gt;
          {{item.content}}
          &lt;button class='cursorDefault' ng-click=&quot;addItem()&quot;&gt;+&lt;/button&gt;
          &lt;button class='cursorDefault' ng-click=&quot;removeItem()&quot;&gt;x&lt;/button&gt;
        &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
    </code>
  </pre>
  <pre>
    <code>
  // JS:
  controller('NgRepeatWithModel', ['$scope', '$element', 'dragularService', function TodoCtrl($scope, $element, dragularService) {
    $scope.items = [{
      content: 'Try to add or remove some elements (click on +- buttons), you will see that it is not problem for dragular.'
    }, {
      content: 'Item 2'
    }, {
      content: 'Item 3'
    }, {
      content: 'Item 4'
    }];
    dragularService($element.children().eq(0).children(), {containersModel: $scope.items});
    $scope.addItem = function addItem() {
      var index = $scope.items.indexOf(this.item) + 1;
      $scope.items.splice(index, 0, {
        content: this.item.content + '-copy'
      });
    };
    $scope.removeItem = function removeItem() {
      var index = $scope.items.indexOf(this.item);
      $scope.items.splice(index, 1);
    };
  }])
    </code>
  </pre>
</div>
